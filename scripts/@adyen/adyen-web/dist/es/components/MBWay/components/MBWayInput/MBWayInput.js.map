{"version":3,"file":"MBWayInput.js","sources":["../../../../../../src/components/MBWay/components/MBWayInput/MBWayInput.tsx"],"sourcesContent":["import { h } from 'preact';\nimport { useState, useRef } from 'preact/hooks';\nimport { useCoreContext } from '../../../../core/Context/CoreProvider';\nimport { MBWayInputProps } from './types';\nimport './MBWayInput.scss';\nimport PhoneInputForm from '../../../internal/PhoneInput';\nimport LoadingWrapper from '../../../internal/LoadingWrapper';\nimport usePhonePrefixes from '../../../internal/PhoneInput/usePhonePrefixes';\n\nfunction MBWayInput(props: MBWayInputProps) {\n    const { i18n, loadingContext } = useCoreContext();\n\n    const phoneInputRef = useRef(null);\n\n    const { allowedCountries = [] } = props;\n\n    const [status, setStatus] = useState<string>('ready');\n\n    this.setStatus = setStatus;\n\n    const { loadingStatus: prefixLoadingStatus, phonePrefixes } = usePhonePrefixes({ allowedCountries, loadingContext, handleError: props.onError });\n\n    const onChange = ({ data, valid, errors, isValid }) => {\n        props.onChange({ data, valid, errors, isValid });\n    };\n\n    return (\n        <LoadingWrapper status={prefixLoadingStatus}>\n            <div className=\"adyen-checkout__mb-way\">\n                <PhoneInputForm\n                    setComponentRef={props.setComponentRef}\n                    {...props}\n                    items={phonePrefixes}\n                    ref={phoneInputRef}\n                    onChange={onChange}\n                    data={props.data}\n                />\n\n                {props.showPayButton && props.payButton({ status, label: i18n.get('confirmPurchase') })}\n            </div>\n        </LoadingWrapper>\n    );\n}\n\nMBWayInput.defaultProps = {\n    onChange: () => {},\n    phoneNumberKey: 'mobileNumber',\n    phoneNumberErrorKey: 'mobileNumber.invalid'\n};\n\nexport default MBWayInput;\n"],"names":["MBWayInput","props","i18n","loadingContext","useCoreContext","phoneInputRef","useRef","allowedCountries","status","setStatus","useState","this","loadingStatus","prefixLoadingStatus","phonePrefixes","usePhonePrefixes","handleError","onError","h","LoadingWrapper","div","className","PhoneInputForm","setComponentRef","items","ref","onChange","data","valid","errors","isValid","showPayButton","payButton","label","get","defaultProps","phoneNumberKey","phoneNumberErrorKey"],"mappings":"4aASA,SAASA,EAAWC,GAChB,MAAMC,KAAEA,EAAIC,eAAEA,GAAmBC,IAE3BC,EAAgBC,EAAO,OAEvBC,iBAAEA,EAAmB,IAAON,GAE3BO,EAAQC,GAAaC,EAAiB,SAE7CC,KAAKF,UAAYA,EAEjB,MAAQG,cAAeC,EAAmBC,cAAEA,GAAkBC,EAAiB,CAAER,mBAAkBJ,iBAAgBa,YAAaf,EAAMgB,UAMtI,OACIC,EAACC,EAAAA,CAAeX,OAAQK,GACpBK,EAACE,MAAAA,CAAIC,UAAU,0BACXH,EAACI,EAAAA,CACGC,gBAAiBtB,EAAMsB,mBACnBtB,EACJuB,MAAOV,EACPW,IAAKpB,EACLqB,SAZC,EAAGC,OAAMC,QAAOC,SAAQC,cACrC7B,EAAMyB,SAAS,CAAEC,OAAMC,QAAOC,SAAQC,WAAQ,EAYlCH,KAAM1B,EAAM0B,OAGf1B,EAAM8B,eAAiB9B,EAAM+B,UAAU,CAAExB,SAAQyB,MAAO/B,EAAKgC,IAAI,sBAIlF,CAEAlC,EAAWmC,aAAe,CACtBT,SAAU,OACVU,eAAgB,eAChBC,oBAAqB"}